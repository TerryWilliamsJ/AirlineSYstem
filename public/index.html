<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Airline Reservation UI</title>
  <style>
    :root{--accent:#0b67ff;--muted:#6b7280;--card:#ffffff;--bg:#f3f4f6}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); margin:0; color:#111}
    header{background:linear-gradient(90deg,var(--accent),#2bb3ff); color:white; padding:28px 20px}
    .container{max-width:1100px;margin:20px auto;padding:0 16px}
    h1{margin:0;font-size:20px}

    /* Search card */
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
    .search-grid{display:grid;grid-template-columns:1fr 1fr 180px 120px;gap:12px;align-items:end}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input[type=text], input[type=date], select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef}
    .btn{background:var(--accent);color:white;padding:10px 14px;border:none;border-radius:10px;cursor:pointer}
    .btn.secondary{background:#eef2ff;color:var(--accent);border:1px solid rgba(11,103,255,0.12)}

    /* Results */
    .results{margin-top:18px;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
    .flight{padding:12px;border-radius:10px;border:1px solid #eef2f5;background:white}
    .flight h3{margin:0;font-size:16px}
    .flight .meta{color:var(--muted);font-size:13px;margin-top:6px}
    .flight .fare{font-weight:700;margin-top:10px}

    /* Booking modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.5);display:none;align-items:center;justify-content:center;padding:20px}
    .modal{background:white;border-radius:12px;max-width:920px;width:100%;padding:18px;box-shadow:0 12px 30px rgba(2,6,23,0.4)}
    .modal-grid{display:grid;grid-template-columns:1fr 360px;gap:12px}
    .seat{width:34px;height:34px;border-radius:6px;display:inline-grid;place-items:center;margin:6px;border:1px solid #e6e9ef;cursor:pointer}
    .seat.available{background:#f8fafc}
    .seat.selected{background:var(--accent);color:white}
    .seat.taken{background:#f3f4f6;color:#9ca3af;cursor:not-allowed}

    /* responsive */
    @media (max-width:820px){
      .search-grid{grid-template-columns:1fr 1fr;}
      .modal-grid{grid-template-columns:1fr}
    }

    footer{text-align:center;color:var(--muted);padding:16px 0;font-size:13px}
  </style>
</head>
<body>
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;">
      <div>
        <h1>BlueSky Airlines — Reservation</h1>
        <div style="font-size:13px;opacity:0.9">Search, pick seats, and book — demo UI</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="btn secondary" onclick="openHelp()">Help</button>
        <button class="btn" onclick="scrollToSearch()">Book a flight</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="card" id="search">
      <form id="searchForm" onsubmit="event.preventDefault();searchFlights();">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
          <strong>Find flights</strong>
          <small style="color:var(--muted)">One-way demo search — try "DEL" or "BOM" for airports</small>
        </div>
        <div class="search-grid">
          <div>
            <label>From (airport code)</label>
            <input id="from" type="text" placeholder="DEL" required maxlength="3" />
          </div>
          <div>
            <label>To (airport code)</label>
            <input id="to" type="text" placeholder="BOM" required maxlength="3" />
          </div>
          <div>
            <label>Date</label>
            <input id="date" type="date" />
          </div>
          <div>
            <label>&nbsp;</label>
            <div style="display:flex;gap:8px">
              <select id="passengers">
                <option value="1">1 passenger</option>
                <option value="2">2 passengers</option>
                <option value="3">3 passengers</option>
                <option value="4">4 passengers</option>
              </select>
              <button class="btn" type="submit">Search</button>
            </div>
          </div>
        </div>
      </form>

      <div id="results" class="results" style="margin-top:16px"></div>
    </section>

    <section style="margin-top:18px;display:flex;gap:12px;flex-wrap:wrap">
      <div class="card" style="flex:1;min-width:220px">
        <h3>Quick tips</h3>
        <ul style="color:var(--muted);padding-left:18px">
          <li>Use three-letter airport codes (DEL, BOM, BLR).</li>
          <li>Click "Book" on a flight to pick seats and enter passenger details.</li>
          <li>This demo doesn't call any backend — all data is local.</li>
        </ul>
      </div>

      <div class="card" style="width:300px;min-width:220px">
        <h3>Demo fares</h3>
        <div style="color:var(--muted);font-size:13px">Economy from ₹2,999 — Taxes included (demo)</div>
        <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
          <span class="btn secondary">Economy</span>
          <span class="btn secondary">Premium</span>
          <span class="btn secondary">Business</span>
        </div>
      </div>
    </section>
  </main>

  <!-- modal -->
  <div id="modal" class="modal-backdrop" role="dialog" aria-hidden="true">
    <div class="modal" role="document">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <strong id="modalTitle">Book flight</strong>
        <div><button class="btn secondary" onclick="closeModal()">Close</button></div>
      </div>
      <div class="modal-grid">
        <div>
          <div style="margin-bottom:8px;color:var(--muted);font-size:13px">Select seats</div>
          <div id="seatMap" style="background:#fff;padding:12px;border-radius:8px;border:1px solid #eef2f5"></div>

          <div style="margin-top:12px">
            <div style="margin-bottom:6px;color:var(--muted);font-size:13px">Passenger details</div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
              <input id="pName" type="text" placeholder="Full name" />
              <input id="pAge" type="text" placeholder="Age" />
            </div>
            <input id="pEmail" type="text" placeholder="Email address" style="margin-top:8px" />

            <button class="btn" style="margin-top:12px" onclick="confirmBooking()">Confirm booking</button>
          </div>
        </div>

        <aside style="background:#fbfbff;border-radius:8px;padding:12px;border:1px solid #eef2f5">
          <div style="font-size:13px;color:var(--muted)">Summary</div>
          <div id="summary" style="margin-top:8px"></div>
          <div style="margin-top:12px;font-weight:700" id="totalFare">Total: ₹0</div>
        </aside>
      </div>
    </div>
  </div>

  <footer>
    Built as a demo — no real reservations created. © BlueSky Airlines Demo
  </footer>

  <script>
    // Demo flight dataset (local only)
    const flights = [
      { id: 'BS101', from: 'DEL', to: 'BOM', dep: '08:00', arr: '10:30', dur: '2h30', fare: 2999, class:'Economy' },
      { id: 'BS205', from: 'DEL', to: 'BOM', dep: '12:15', arr: '14:45', dur: '2h30', fare: 3599, class:'Premium' },
      { id: 'BS333', from: 'DEL', to: 'BLR', dep: '06:20', arr: '08:50', dur: '2h30', fare: 3999, class:'Economy' },
      { id: 'BS404', from: 'BOM', to: 'DEL', dep: '15:00', arr: '17:30', dur: '2h30', fare: 3199, class:'Economy' }
    ];

    function scrollToSearch(){document.getElementById('search').scrollIntoView({behavior:'smooth'})}
    function openHelp(){alert('This is a demo UI. Try: From=DEL To=BOM and click Search.')}

    function searchFlights(){
      const from = document.getElementById('from').value.trim().toUpperCase();
      const to = document.getElementById('to').value.trim().toUpperCase();
      const results = document.getElementById('results');
      results.innerHTML = '';
      if(!from || !to){results.innerHTML = '<div style="color:#ef4444">Please enter both origin and destination</div>';return}

      const matched = flights.filter(f => f.from === from && f.to === to);
      if(matched.length === 0){results.innerHTML = '<div style="color:var(--muted)">No flights found for this route in demo data.</div>'; return}

      matched.forEach(f => {
        const el = document.createElement('div'); el.className='flight card';
        el.innerHTML = `
          <h3>${f.id} — ${f.from} → ${f.to}</h3>
          <div class="meta">${f.dep} • ${f.arr} • ${f.dur} • ${f.class}</div>
          <div class="fare">₹${f.fare.toLocaleString()}</div>
          <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
            <button class="btn secondary" onclick="viewDetails('${f.id}')">Details</button>
            <button class="btn" onclick="openBooking('${f.id}')">Book</button>
          </div>
        `;
        results.appendChild(el);
      });
    }

    function viewDetails(id){
      const f = flights.find(x=>x.id===id);
      alert(`${f.id}\nRoute: ${f.from} → ${f.to}\nDeparture: ${f.dep}\nArrival: ${f.arr}\nDuration: ${f.dur}\nFare: ₹${f.fare}`);
    }

    // Modal and booking logic
    let currentFlight = null;
    let selectedSeats = [];

    function openBooking(flightId){
      currentFlight = flights.find(f=>f.id===flightId);
      document.getElementById('modalTitle').innerText = `Book ${currentFlight.id} — ${currentFlight.from}→${currentFlight.to}`;
      renderSeatMap();
      renderSummary();
      document.getElementById('modal').style.display = 'flex';
      document.getElementById('modal').setAttribute('aria-hidden','false');
    }

    function closeModal(){
      document.getElementById('modal').style.display = 'none';
      document.getElementById('modal').setAttribute('aria-hidden','true');
      selectedSeats = [];
    }

    // Simple seat map generator (rows A-F, cols 1-6)
    function renderSeatMap(){
      const seatMap = document.getElementById('seatMap'); seatMap.innerHTML='';
      const taken = generateTakenSeats();
      for(let r=0;r<6;r++){
        const rowLabel = String.fromCharCode(65 + r);
        const rowWrap = document.createElement('div');
        for(let c=1;c<=6;c++){
          const seatId = `${rowLabel}${c}`;
          const seat = document.createElement('button');
          seat.className='seat ' + (taken.includes(seatId) ? 'taken' : 'available');
          seat.innerText = seatId;
          seat.dataset.seat = seatId;
          seat.onclick = () => toggleSeat(seat, seatId);
          rowWrap.appendChild(seat);
        }
        seatMap.appendChild(rowWrap);
      }
    }

    function generateTakenSeats(){
      // pseudo-random taken seats based on flight id (stable per flight)
      const seed = currentFlight.id.split('').reduce((s,ch)=>s + ch.charCodeAt(0),0);
      const rng = mulberry32(seed);
      const taken = [];
      const all = [];
      for(let r=0;r<6;r++) for(let c=1;c<=6;c++) all.push(`${String.fromCharCode(65+r)}${c}`);
      for(const s of all){ if(rng() > 0.78) taken.push(s); }
      return taken;
    }

    function toggleSeat(button, id){
      if(button.classList.contains('taken')) return; // can't select
      if(button.classList.contains('selected')){
        button.classList.remove('selected');
        selectedSeats = selectedSeats.filter(x=>x!==id);
      } else {
        selectedSeats.push(id);
        button.classList.add('selected');
      }
      renderSummary();
    }

    function renderSummary(){
      const summary = document.getElementById('summary');
      summary.innerHTML = '';
      const pCount = Number(document.getElementById('passengers').value || 1);
      const seatList = selectedSeats.length ? selectedSeats.join(', ') : 'None';
      summary.innerHTML = `Flight: <div style="font-weight:600">${currentFlight ? currentFlight.id : '-'} </div>`
                         + `<div style="color:var(--muted);margin-top:6px">Seats: ${seatList}</div>`
                         + `<div style="color:var(--muted);margin-top:6px">Passengers: ${pCount}</div>`;
      const total = (currentFlight ? currentFlight.fare : 0) * pCount;
      document.getElementById('totalFare').innerText = `Total: ₹${total.toLocaleString()}`;
    }

    function confirmBooking(){
      const name = document.getElementById('pName').value.trim();
      const email = document.getElementById('pEmail').value.trim();
      const age = document.getElementById('pAge').value.trim();
      if(!name || !email){ alert('Please enter passenger name and email.'); return }
      const pCount = Number(document.getElementById('passengers').value || 1);
      const booking = {
        id: 'BK' + Math.random().toString(36).slice(2,8).toUpperCase(),
        flight: currentFlight.id,
        passenger: {name,age,email},
        seats: selectedSeats.slice(0,pCount),
        total: currentFlight.fare * pCount
      };
      closeModal();
      alert(`Booking confirmed!\nReference: ${booking.id}\nFlight: ${booking.flight}\nSeats: ${booking.seats.join(', ') || 'Auto-assigned'}\nTotal: ₹${booking.total}`);
    }

    // small seeded RNG for deterministic 'taken' seats
    function mulberry32(a) {
      return function() {
        var t = a += 0x6D2B79F5;
        t = Math.imul(t ^ t >>> 15, t | 1);
        t ^= t + Math.imul(t ^ t >>> 7, t | 61);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      }
    }

    // initialize with example values
    document.addEventListener('DOMContentLoaded', ()=>{
      document.getElementById('from').value='DEL';
      document.getElementById('to').value='BOM';
      searchFlights();
    });
  </script>
</body>
</html>